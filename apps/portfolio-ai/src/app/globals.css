@import "tailwindcss";
@source "../../../../packages/shared/src";
@plugin "@tailwindcss/typography";

@custom-variant dark (&:where(.dark, .dark *));

@theme inline {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* Prose 커스터마이징 */
.prose {
  --tw-prose-body: theme(--color-gray-700);
  --tw-prose-headings: theme(--color-gray-900);
  --tw-prose-links: theme(--color-blue-600);
  --tw-prose-code: theme(--color-gray-800);
  --tw-prose-pre-bg: theme(--color-gray-50);
}

.dark .prose {
  --tw-prose-body: theme(--color-gray-300);
  --tw-prose-headings: theme(--color-gray-100);
  --tw-prose-links: theme(--color-blue-400);
  --tw-prose-code: theme(--color-gray-200);
  --tw-prose-pre-bg: theme(--color-gray-900);
}

/* 모든 prose 코드 블록 공통 스타일 */
.prose pre {
  @apply rounded-lg border border-gray-200 text-sm;
  background-color: #f6f8fa !important;
  color: #24292e;
}

.dark .prose pre {
  @apply border-gray-800;
  background-color: #24292e !important;
  color: #e1e4e8;
}

.prose pre code {
  @apply px-4;
}

/* rehype-pretty-code 구문 하이라이팅 */
[data-rehype-pretty-code-figure] code span {
  color: var(--shiki-light);
}

.dark [data-rehype-pretty-code-figure] code span {
  color: var(--shiki-dark);
}

[data-rehype-pretty-code-figure] code [data-line] {
  @apply px-4;
}

[data-rehype-pretty-code-figure] [data-highlighted-line] {
  @apply bg-blue-50 dark:bg-blue-950/30;
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-gray-300 dark:bg-gray-700 rounded-full;
}
